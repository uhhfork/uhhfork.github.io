<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>á»«m</title>
  <style>
    :root {
      color-scheme: light dark;
      --bg: #fff;
      --text: #000;
      --input-bg: #f2f2f7;
      --border: #ccc;
      --button-bg: #007aff;
      --button-active: #0051cc;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #1c1c1e;
        --text: #f2f2f7;
        --input-bg: #2c2c2e;
        --border: #444;
      }
    }
    body {
      margin: 0;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
    }
    h1 {
      font-size: 1.2rem;
      text-align: center;
      margin-bottom: 16px;
    }
    input, textarea, button {
      width: 100%;
      font-size: 1.05rem;
      padding: 12px;
      margin-bottom: 12px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--input-bg);
      color: var(--text);
      box-sizing: border-box;
      font-family: inherit;
    }
    textarea {
      height: 140px;
      resize: none;
    }
    button {
      background-color: var(--button-bg);
      color: white;
      font-weight: 500;
      border: none;
    }
    button:active {
      background-color: var(--button-active);
    }
  </style>
</head>
<body>
  <h1>unicode test</h1>
  <input id="input" placeholder="vÃ o">
  <textarea id="output" readonly placeholder="ra"></textarea>
  <button id="copy">copy</button>

  <script>
    const input = document.getElementById('input');
    const output = document.getElementById('output');
    const copyBtn = document.getElementById('copy');

    const italicMap = {};
    const aCode = 'a'.codePointAt(0);
    const ACode = 'A'.codePointAt(0);
    for (let i = 0; i < 26; i++) {
      italicMap[String.fromCharCode(aCode + i)] = String.fromCodePoint(0x1D44E + i);
      italicMap[String.fromCharCode(ACode + i)] = String.fromCodePoint(0x1D434 + i);
    }

    const accentMap = {
      // thÆ°á»ng
      "Ã¡": ["a", "\u0301"], "Ã ": ["a", "\u0300"], "áº£": ["a", "\u0309"], "Ã£": ["a", "\u0303"], "áº¡": ["a", "\u0323"],
      "Äƒ": ["a", "\u0306"], "áº¯": ["a", "\u0306", "\u0301"], "áº±": ["a", "\u0306", "\u0300"],
      "áº³": ["a", "\u0306", "\u0309"], "áºµ": ["a", "\u0306", "\u0303"], "áº·": ["a", "\u0306", "\u0323"],
      "Ã¢": ["a", "\u0302"], "áº¥": ["a", "\u0302", "\u0301"], "áº§": ["a", "\u0302", "\u0300"],
      "áº©": ["a", "\u0302", "\u0309"], "áº«": ["a", "\u0302", "\u0303"], "áº­": ["a", "\u0302", "\u0323"],
      "Ä‘": ["d"],

      "Ã©": ["e", "\u0301"], "Ã¨": ["e", "\u0300"], "áº»": ["e", "\u0309"], "áº½": ["e", "\u0303"], "áº¹": ["e", "\u0323"],
      "Ãª": ["e", "\u0302"], "áº¿": ["e", "\u0302", "\u0301"], "á»": ["e", "\u0302", "\u0300"],
      "á»ƒ": ["e", "\u0302", "\u0309"], "á»…": ["e", "\u0302", "\u0303"], "á»‡": ["e", "\u0302", "\u0323"],

      "Ã­": ["i", "\u0301"], "Ã¬": ["i", "\u0300"], "á»‰": ["i", "\u0309"], "Ä©": ["i", "\u0303"], "á»‹": ["i", "\u0323"],

      "Ã³": ["o", "\u0301"], "Ã²": ["o", "\u0300"], "á»": ["o", "\u0309"], "Ãµ": ["o", "\u0303"], "á»": ["o", "\u0323"],
      "Ã´": ["o", "\u0302"], "á»‘": ["o", "\u0302", "\u0301"], "á»“": ["o", "\u0302", "\u0300"],
      "á»•": ["o", "\u0302", "\u0309"], "á»—": ["o", "\u0302", "\u0303"], "á»™": ["o", "\u0302", "\u0323"],
      "Æ¡": ["o", "\u031B"], "á»›": ["o", "\u031B", "\u0301"], "á»": ["o", "\u031B", "\u0300"],
      "á»Ÿ": ["o", "\u031B", "\u0309"], "á»¡": ["o", "\u031B", "\u0303"], "á»£": ["o", "\u031B", "\u0323"],

      "Ãº": ["u", "\u0301"], "Ã¹": ["u", "\u0300"], "á»§": ["u", "\u0309"], "Å©": ["u", "\u0303"], "á»¥": ["u", "\u0323"],
      "Æ°": ["u", "\u031B"], "á»©": ["u", "\u031B", "\u0301"], "á»«": ["u", "\u031B", "\u0300"],
      "á»­": ["u", "\u031B", "\u0309"], "á»¯": ["u", "\u031B", "\u0303"], "á»±": ["u", "\u031B", "\u0323"],

      "Ã½": ["y", "\u0301"], "á»³": ["y", "\u0300"], "á»·": ["y", "\u0309"], "á»¹": ["y", "\u0303"], "á»µ": ["y", "\u0323"],

      // hoa
      "Ã": ["A", "\u0301"], "Ã€": ["A", "\u0300"], "áº¢": ["A", "\u0309"], "Ãƒ": ["A", "\u0303"], "áº ": ["A", "\u0323"],
      "Ä‚": ["A", "\u0306"], "áº®": ["A", "\u0306", "\u0301"], "áº°": ["A", "\u0306", "\u0300"],
      "áº²": ["A", "\u0306", "\u0309"], "áº´": ["A", "\u0306", "\u0303"], "áº¶": ["A", "\u0306", "\u0323"],
      "Ã‚": ["A", "\u0302"], "áº¤": ["A", "\u0302", "\u0301"], "áº¦": ["A", "\u0302", "\u0300"],
      "áº¨": ["A", "\u0302", "\u0309"], "áºª": ["A", "\u0302", "\u0303"], "áº¬": ["A", "\u0302", "\u0323"],
      "Ä": ["D"],

      "Ã‰": ["E", "\u0301"], "Ãˆ": ["E", "\u0300"], "áºº": ["E", "\u0309"], "áº¼": ["E", "\u0303"], "áº¸": ["E", "\u0323"],
      "ÃŠ": ["E", "\u0302"], "áº¾": ["E", "\u0302", "\u0301"], "á»€": ["E", "\u0302", "\u0300"],
      "á»‚": ["E", "\u0302", "\u0309"], "á»„": ["E", "\u0302", "\u0303"], "á»†": ["E", "\u0302", "\u0323"],

      "Ã": ["I", "\u0301"], "ÃŒ": ["I", "\u0300"], "á»ˆ": ["I", "\u0309"], "Ä¨": ["I", "\u0303"], "á»Š": ["I", "\u0323"],

      "Ã“": ["O", "\u0301"], "Ã’": ["O", "\u0300"], "á»Ž": ["O", "\u0309"], "Ã•": ["O", "\u0303"], "á»Œ": ["O", "\u0323"],
      "Ã”": ["O", "\u0302"], "á»": ["O", "\u0302", "\u0301"], "á»’": ["O", "\u0302", "\u0300"],
      "á»”": ["O", "\u0302", "\u0309"], "á»–": ["O", "\u0302", "\u0303"], "á»˜": ["O", "\u0302", "\u0323"],
      "Æ ": ["O", "\u031B"], "á»š": ["O", "\u031B", "\u0301"], "á»œ": ["O", "\u031B", "\u0300"],
      "á»ž": ["O", "\u031B", "\u0309"], "á» ": ["O", "\u031B", "\u0303"], "á»¢": ["O", "\u031B", "\u0323"],

      "Ãš": ["U", "\u0301"], "Ã™": ["U", "\u0300"], "á»¦": ["U", "\u0309"], "Å¨": ["U", "\u0303"], "á»¤": ["U", "\u0323"],
      "Æ¯": ["U", "\u031B"], "á»¨": ["U", "\u031B", "\u0301"], "á»ª": ["U", "\u031B", "\u0300"],
      "á»¬": ["U", "\u031B", "\u0309"], "á»®": ["U", "\u031B", "\u0303"], "á»°": ["U", "\u031B", "\u0323"],

      "Ã": ["Y", "\u0301"], "á»²": ["Y", "\u0300"], "á»¶": ["Y", "\u0309"], "á»¸": ["Y", "\u0303"], "á»´": ["Y", "\u0323"]
    };

    function convert(text) {
      return Array.from(text).map(ch => {
        if (accentMap[ch]) {
          const [base, ...marks] = accentMap[ch];
          const baseItalic = italicMap[base] || base;
          return baseItalic + marks.join('');
        }
        return italicMap[ch] || ch;
      }).join('');
    }

    input.addEventListener('input', () => {
      output.value = convert(input.value);
    });

    copyBtn.addEventListener('click', async () => {
      try {
        await navigator.clipboard.writeText(output.value);
        copyBtn.textContent = 'oke!';
        setTimeout(() => copyBtn.textContent = 'copy', 1500);
      } catch {
        alert('copy ko thÃ nh cÃ´ng ðŸ’”');
      }
    });
  </script>
</body>
</html>